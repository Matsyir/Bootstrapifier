<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="./Bootstrapifier.js"></script>
<title>Bootstrapifier</title>
<script>
    
    let defaultClipboardBtnVal = "Copy HTML Output To Clipboard";
    $(function() {
        $("#elementsToWrapRow").val(Bootstrapifier.DEFAULT_ROW_ELEMENTS.join(", "));
        $("#elementsToWrapTextCenter").val(Bootstrapifier.DEFAULT_TEXT_CENTER_ELEMENTS.join(", "));
        $("#bootstrapify").click(function() {
            $("#htmlOutput").val(
                Bootstrapifier.bootstrapify(
                    $("#htmlInput").val(),
                    $("#wrapContainer").prop("checked"),
                    $("#elementsToWrapRow").val().split(",").map((elem) => { return elem.trim().toLowerCase() }),
                    $("#elementsToWrapTextCenter").val().split(",").map((elem) => { return elem.trim().toLowerCase() }),
                    $("#basicDarkTheme").prop("checked"),
                    $("#applyListGroups").prop("checked"),
                    $("#centerLists").prop("checked"),
                    4,
                    true,
                    Number.MAX_SAFE_INTEGER
                )
            );
        });
        $("#copyOutput").click(function() {
            // Big thx to 'Alvaro Montoro' very good answer about this on here
            // https://stackoverflow.com/questions/22581345/click-button-copy-to-clipboard-using-jquery
            $("#htmlOutput").select();
            try {
                document.execCommand("copy");
                document.getSelection().removeAllRanges();
                
                let initialWidth = $("#copyOutput").val(defaultClipboardBtnVal).width();
                $("#copyOutput").val("Success").addClass("btn-success");
                $("#copyOutput").width(initialWidth);
                setTimeout(function() {
                    $("#copyOutput").val(defaultClipboardBtnVal).removeClass("btn-success");
                }, 2000);
                
                
                console.log(`The following HTML output was copied to the clipboard:`);
                console.log({ copied : $("#htmlOutput").val() });
            } catch(e) {
                let initialWidth = $("#copyOutput").val(defaultClipboardBtnVal).width();
                $("#copyOutput").val("Error").addClass("btn-danger");
                $("#copyOutput").width(initialWidth);
                setTimeout(function() {
                    $("#copyOutput").val(defaultClipboardBtnVal).removeClass("btn-danger");
                }, 2000);
                console.log(`Error copying HTML output to clipboard: ${e}`)
            }
        });
    });
</script>
<style>
    textarea, input[type="text"] {
        font-family: monospace,monospace;
    }
</style>
</head>

<body>
    <h1>Bootstrapifier</h1>
    <a href="https://github.com/Matsyir/Bootstrapifier"><h4>GitHub Repo</h4></a>
    
    <h3>Requirements</h3>
    <ul>
        <li>Must be valid HTML</li>
    </ul>
    
    <h3>Options</h3>
    <input type="checkbox" id="wrapContainer" checked>
    <label for="wrapContainer">Wrap body contents with container?</label>
    <br/>
    <input type="checkbox" id="applyListGroups" checked>
    <label for="applyListGroups">Apply list groups and list group items to lists (ul, ol, li)?</label>
    <br/>
    <input type="checkbox" id="centerLists" checked>
    <label for="centerLists">Center list groups at 50% width? (adds "w-50", "ml-auto", and "mr-auto" classes to "ol" and "ul)</label>
    <br/>
    <input type="checkbox" id="basicDarkTheme">
    <label for="basicDarkTheme">Apply basic dark theme to body? Note that this is not Bootstrap. Details on repo.</label>
    <br/>
    <label for="elementsToWrapRow">Element tags to wrap with row (csv):</label>
    <input type="text" name="elementsToWrapRow" id="elementsToWrapRow">
    <br/>
    <label for="elementsToWrapTextCenter">Element tags to add text-center class (csv):</label>
    <input type="text" name="elementsToWrapTextCenter" id="elementsToWrapTextCenter">
    <br/><br/>
    
    <h3>HTML Input</h3>
    <textarea id="htmlInput"></textarea>
    <br/>
    
    <input type="button" id="bootstrapify" value="Bootstrapify (Process HTML)">
    &nbsp;
    <input type="button" id="copyOutput" value="Copy HTML Output To Clipboard">
    <br/><br/>
    
    <h3>HTML Output</h3>
    <textarea id="htmlOutput"></textarea>
</body>
</html>
